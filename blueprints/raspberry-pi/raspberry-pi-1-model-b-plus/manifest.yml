# Alloy Blueprint: raspberry-pi
#
# This manifest defines a complete development environment for
# Raspberry Pi 1 Model B+ (32-bit). It provides cross-compilation
# toolchains, build tools, and development utilities.
#
name: "Raspberry Pi 1 Model B+ Dev Environment"
version: "1.0.2"
description: "Provides cross-compilation toolchains and development tools for Raspberry Pi 1 Model B+ (32-bit)."

#==================================================================
# Variables
# These are used by all other blueprint files.
#==================================================================
variables:
  # --- Cross-Compilation Paths (toolchain URL/SHA come from catalog) ---
  TOOLCHAIN_32BIT_DEST: "/opt/cross-pi/arm-linux-gnueabihf"
  TOOLCHAIN_FILES_DIR: "/opt/cross-pi/cmake"
  SYSROOT_URL: "https://example.com/sysroot.tar.xz"
  SYSROOT_DIR: "/opt/cross-pi/sysroot"

#==================================================================
# Supported Hosts: OS/arch platforms this blueprint is built for (CI/CD creates one image per host).
#==================================================================
supported_hosts:
  - linux/amd64
  - linux/arm64

#==================================================================
# Toolchains (resolved via alloy-host resolve â†’ alloy.lock.yml)
#==================================================================
toolchains:
  - ref: "sdk.golang.go@stable"
    alias: GOLANG
  - ref: "toolchain.arm-gnu.arm-none-linux-gnueabihf@stable"
    alias: TOOLCHAIN_32BIT

#==================================================================
# Run Order
#==================================================================
run_order:
  - "00-system-base.yml"
  - "10-host-tools.yml"
  - "20-toolchain.yml"
  - "30-sysroot.yml"
  - "99-cleanup.yml"
